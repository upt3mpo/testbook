# Testbook Test Configuration
# Copy to .env to customize your test environment
# This file is used by all test types: E2E (Python & JavaScript), API, Performance

# ======================
# URLs (For E2E and API Tests)
# ======================

# Backend API URL
# Development mode: http://localhost:8000
# Production mode: http://localhost:80
BACKEND_URL=http://localhost:8000
API_URL=http://localhost:8000  # Alias for BACKEND_URL

# Frontend URL (for E2E tests)
# Development mode: http://localhost:3000
# Production mode: http://localhost:80
FRONTEND_URL=http://localhost:3000
BASE_URL=http://localhost:3000  # Alias for FRONTEND_URL (Playwright)

# ======================
# Browser Configuration (E2E Tests)
# ======================

# Run browser in headless mode (true/false)
# Set to false to see the browser during tests
HEADLESS=true

# Slow down browser actions (milliseconds)
# Useful for watching tests: 500, 1000, etc.
SLOW_MO=0

# ======================
# Timeouts
# ======================

# Default timeout for actions (milliseconds)
DEFAULT_TIMEOUT=30000

# Navigation timeout (milliseconds)
NAVIGATION_TIMEOUT=60000

# ======================
# Recording Configuration (E2E Tests)
# ======================

# Take screenshot on test failure (true/false)
SCREENSHOT_ON_FAILURE=true

# Record video on test failure (true/false)
# Warning: Video recording can significantly slow down tests
VIDEO_ON_FAILURE=false

# ======================
# Test Data
# ======================

# Pre-seeded test user credentials
TEST_USER_EMAIL=sarah.johnson@testbook.com
TEST_USER_PASSWORD=Sarah2024!

# ======================
# Performance Testing (K6)
# ======================

# Number of virtual users
K6_VUS=10

# Test duration
K6_DURATION=30s

# ======================
# Logging
# ======================

# Log level for tests
# Options: DEBUG, INFO, WARNING, ERROR
TEST_LOG_LEVEL=INFO

# ======================
# Parallel Execution
# ======================

# Number of workers for pytest parallel execution
# Options: auto (recommended), 1, 2, 4, etc.
# Use 1 for debugging to run tests sequentially
PYTEST_WORKERS=auto

# ======================
# CI/CD Configuration
# ======================

# Set this in CI to enable CI-specific behavior
# CI=true

# ======================
# Examples for Different Scenarios
# ======================

# Local development with visible browser:
# HEADLESS=false SLOW_MO=1000 npm test

# Testing against Docker production deployment:
# BASE_URL=http://localhost:80 BACKEND_URL=http://localhost:80 npm test

# Python E2E tests in debug mode:
# HEADLESS=false SLOW_MO=500 pytest tests/e2e-python/ -v

# Run a single test with full debugging:
# HEADLESS=false TEST_LOG_LEVEL=DEBUG pytest test_auth.py::test_login -v -s
