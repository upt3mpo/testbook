name: Markdown Validation
# Last Updated: October 2025

permissions:
  contents: read

concurrency:
  group: markdown-validation-${{ github.ref }}
  cancel-in-progress: true

on:
  push:
    branches: [main, develop]
    paths:
      - "**.md"
      - ".markdownlint.json"
      - ".markdown-link-check.json"
      - ".github/workflows/markdown-validation.yml"
  pull_request:
    branches: [main, develop]
    paths:
      - "**.md"
      - ".markdownlint.json"
      - ".markdown-link-check.json"
      - ".github/workflows/markdown-validation.yml"

jobs:
  markdown-lint:
    name: Markdown Linting
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: "24"

      - name: Install markdownlint-cli
        run: npm install -g markdownlint-cli

      - name: Run markdownlint
        run: markdownlint '**/*.md' --ignore node_modules --ignore '**/node_modules/**' --ignore venv --ignore backend/venv
        continue-on-error: false

  # Link check and report removed for minimal trim; keep linting only
